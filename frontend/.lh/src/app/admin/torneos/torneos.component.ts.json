{
    "sourceFile": "src/app/admin/torneos/torneos.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1765227879041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1765228038826,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,15 +16,15 @@\n \n       <!-- Form -->\n       <div *ngIf=\"showForm\" class=\"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200\">\n         <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n-            <label class=\"block text-sm font-medium text-gray-700 mb-1\">placeholder=\"Nombre del Torneo</label>\n+            <label >placeholder=\"Nombre del Torneo</label>\n             <input [(ngModel)]=\"newTorneo.nombre\" placeholder=\"Nombre del Torneo\" class=\"p-2 border rounded\">\n-            <label class=\"block text-sm font-medium text-gray-700 mb-1\">ECategoría</label>\n+            <label >ECategoría</label>\n             <input [(ngModel)]=\"newTorneo.categoria\" placeholder=\"Categoría (ej. Libre, Varonil)\" class=\"p-2 border rounded\">\n-            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Fecha Iniciol</label>\n+            <label >Fecha Iniciol</label>\n             <input type=\"date\" [(ngModel)]=\"newTorneo.fechaInicio\" class=\"p-2 border rounded\" title=\"Fecha Inicio\">\n-            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Fecha Fin</label>\n+            <label >Fecha Fin</label>\n             <input type=\"date\" [(ngModel)]=\"newTorneo.fechaFin\" class=\"p-2 border rounded\" title=\"Fecha Fin\">\n         </div>\n         <div class=\"mt-4 flex space-x-2\">\n             <button (click)=\"saveTorneo()\" class=\"px-4 py-2 bg-emerald-600 text-white rounded\">{{ editingId ? 'Actualizar' : 'Guardar' }}</button>\n"
                },
                {
                    "date": 1765228103204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,15 +16,11 @@\n \n       <!-- Form -->\n       <div *ngIf=\"showForm\" class=\"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200\">\n         <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n-            <label >placeholder=\"Nombre del Torneo</label>\n             <input [(ngModel)]=\"newTorneo.nombre\" placeholder=\"Nombre del Torneo\" class=\"p-2 border rounded\">\n-            <label >ECategoría</label>\n             <input [(ngModel)]=\"newTorneo.categoria\" placeholder=\"Categoría (ej. Libre, Varonil)\" class=\"p-2 border rounded\">\n-            <label >Fecha Iniciol</label>\n             <input type=\"date\" [(ngModel)]=\"newTorneo.fechaInicio\" class=\"p-2 border rounded\" title=\"Fecha Inicio\">\n-            <label >Fecha Fin</label>\n             <input type=\"date\" [(ngModel)]=\"newTorneo.fechaFin\" class=\"p-2 border rounded\" title=\"Fecha Fin\">\n         </div>\n         <div class=\"mt-4 flex space-x-2\">\n             <button (click)=\"saveTorneo()\" class=\"px-4 py-2 bg-emerald-600 text-white rounded\">{{ editingId ? 'Actualizar' : 'Guardar' }}</button>\n"
                },
                {
                    "date": 1765232051139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,18 +14,33 @@\n         <button (click)=\"showForm = true\" class=\"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700\">+ Nuevo Torneo</button>\n       </div>\n \n       <!-- Form -->\n-      <div *ngIf=\"showForm\" class=\"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200\">\n-        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n-            <input [(ngModel)]=\"newTorneo.nombre\" placeholder=\"Nombre del Torneo\" class=\"p-2 border rounded\">\n-            <input [(ngModel)]=\"newTorneo.categoria\" placeholder=\"Categoría (ej. Libre, Varonil)\" class=\"p-2 border rounded\">\n-            <input type=\"date\" [(ngModel)]=\"newTorneo.fechaInicio\" class=\"p-2 border rounded\" title=\"Fecha Inicio\">\n-            <input type=\"date\" [(ngModel)]=\"newTorneo.fechaFin\" class=\"p-2 border rounded\" title=\"Fecha Fin\">\n+      <div *ngIf=\"showForm\" class=\"bg-white p-6 rounded-lg mb-6 border border-gray-200 shadow-sm\">\n+        <h3 class=\"font-bold text-lg mb-4 text-gray-800 border-b pb-2\">\n+            {{ editingId ? 'Editar Torneo' : 'Nuevo Torneo' }}\n+        </h3>\n+        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n+            <div class=\"flex flex-col\">\n+                <label class=\"text-sm font-semibold text-gray-700 mb-1\">Nombre del Torneo</label>\n+                <input [(ngModel)]=\"newTorneo.nombre\" placeholder=\"Ej. Torneo Verano 2025\" class=\"p-2 border border-gray-300 rounded focus:border-emerald-500 outline-none\">\n+            </div>\n+            <div class=\"flex flex-col\">\n+                <label class=\"text-sm font-semibold text-gray-700 mb-1\">Categoría</label>\n+                <input [(ngModel)]=\"newTorneo.categoria\" placeholder=\"Ej. Libre, Varonil\" class=\"p-2 border border-gray-300 rounded focus:border-emerald-500 outline-none\">\n+            </div>\n+            <div class=\"flex flex-col\">\n+                <label class=\"text-sm font-semibold text-gray-700 mb-1\">Fecha Inicio</label>\n+                <input type=\"date\" [(ngModel)]=\"newTorneo.fechaInicio\" class=\"p-2 border border-gray-300 rounded focus:border-emerald-500 outline-none\">\n+            </div>\n+            <div class=\"flex flex-col\">\n+                <label class=\"text-sm font-semibold text-gray-700 mb-1\">Fecha Fin</label>\n+                <input type=\"date\" [(ngModel)]=\"newTorneo.fechaFin\" class=\"p-2 border border-gray-300 rounded focus:border-emerald-500 outline-none\">\n+            </div>\n         </div>\n-        <div class=\"mt-4 flex space-x-2\">\n-            <button (click)=\"saveTorneo()\" class=\"px-4 py-2 bg-emerald-600 text-white rounded\">{{ editingId ? 'Actualizar' : 'Guardar' }}</button>\n-            <button (click)=\"cancelEdit()\" class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded\">Cancelar</button>\n+        <div class=\"mt-6 flex justify-end space-x-2\">\n+             <button (click)=\"cancelEdit()\" class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200\">Cancelar</button>\n+             <button (click)=\"saveTorneo()\" class=\"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700\">{{ editingId ? 'Actualizar' : 'Guardar' }}</button>\n         </div>\n       </div>\n \n       <!-- List -->\n"
                }
            ],
            "date": 1765227879041,
            "name": "Commit-0",
            "content": "import { Component, inject, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ApiService } from '../../core/services/api.service';\n\n@Component({\n  selector: 'app-torneos',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"px-4 py-6\">\n      <div class=\"flex justify-between items-center mb-6\">\n        <h1 class=\"text-2xl font-bold text-gray-800\">Torneos</h1>\n        <button (click)=\"showForm = true\" class=\"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700\">+ Nuevo Torneo</button>\n      </div>\n\n      <!-- Form -->\n      <div *ngIf=\"showForm\" class=\"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">placeholder=\"Nombre del Torneo</label>\n            <input [(ngModel)]=\"newTorneo.nombre\" placeholder=\"Nombre del Torneo\" class=\"p-2 border rounded\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">ECategoría</label>\n            <input [(ngModel)]=\"newTorneo.categoria\" placeholder=\"Categoría (ej. Libre, Varonil)\" class=\"p-2 border rounded\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Fecha Iniciol</label>\n            <input type=\"date\" [(ngModel)]=\"newTorneo.fechaInicio\" class=\"p-2 border rounded\" title=\"Fecha Inicio\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Fecha Fin</label>\n            <input type=\"date\" [(ngModel)]=\"newTorneo.fechaFin\" class=\"p-2 border rounded\" title=\"Fecha Fin\">\n        </div>\n        <div class=\"mt-4 flex space-x-2\">\n            <button (click)=\"saveTorneo()\" class=\"px-4 py-2 bg-emerald-600 text-white rounded\">{{ editingId ? 'Actualizar' : 'Guardar' }}</button>\n            <button (click)=\"cancelEdit()\" class=\"px-4 py-2 bg-gray-300 text-gray-700 rounded\">Cancelar</button>\n        </div>\n      </div>\n\n      <!-- List -->\n      <div class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n                <tr>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nombre</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Categoría</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estatus</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fechas</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Creado</th>\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr *ngFor=\"let t of torneos\">\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                        <div class=\"text-sm font-bold text-gray-900\">{{ t.nombre }}</div>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                        <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800\">\n                            {{ t.categoria }}\n                        </span>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                         <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\"\n                               [class.bg-green-100]=\"t.estado === 'ACTIVO'\"\n                               [class.text-green-800]=\"t.estado === 'ACTIVO'\"\n                               [class.bg-yellow-100]=\"t.estado === 'PROGRAMADO'\"\n                               [class.text-yellow-800]=\"t.estado === 'PROGRAMADO'\"\n                               [class.bg-gray-100]=\"t.estado === 'FINALIZADO'\"\n                               [class.text-gray-800]=\"t.estado === 'FINALIZADO'\">\n                            {{ t.estado }}\n                         </span>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div><span class=\"font-bold\">Inicio:</span> {{ t.fechaInicio }}</div>\n                        <div *ngIf=\"t.fechaFin\"><span class=\"font-bold\">Fin:</span> {{ t.fechaFin }}</div>\n                    </td>\n                     <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {{ t.fechaCreacion || '-' }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\n                        <button (click)=\"editTorneo(t)\" class=\"text-indigo-600 hover:text-indigo-900\">Editar</button>\n                        <button (click)=\"deleteTorneo(t.id)\" class=\"text-red-600 hover:text-red-900\">Eliminar</button>\n                    </td>\n                </tr>\n                <tr *ngIf=\"torneos.length === 0\">\n                    <td colspan=\"6\" class=\"px-6 py-4 text-center text-gray-500 italic\">No hay torneos registrados.</td>\n                </tr>\n            </tbody>\n        </table>\n      </div>\n    </div>\n  `\n})\nexport class TorneosComponent implements OnInit {\n  api = inject(ApiService);\n  cdr = inject(ChangeDetectorRef);\n  torneos: any[] = [];\n  showForm = false;\n  newTorneo = { nombre: '', categoria: '', fechaInicio: '', fechaFin: '' };\n  editingId: number | null = null;\n\n  ngOnInit() {\n    this.loadTorneos();\n  }\n\n  loadTorneos() {\n    this.api.get<any[]>('public/torneos').subscribe(data => {\n      this.torneos = data;\n      this.cdr.detectChanges();\n    });\n  }\n\n  saveTorneo() {\n    if (this.editingId) {\n      this.api.put(`admin/torneos/${this.editingId}`, this.newTorneo).subscribe(() => {\n        this.finishSave();\n      });\n    } else {\n      this.api.post('admin/torneos', this.newTorneo).subscribe(() => {\n        this.finishSave();\n      });\n    }\n  }\n\n  finishSave() {\n    this.loadTorneos();\n    this.showForm = false;\n    this.newTorneo = { nombre: '', categoria: '', fechaInicio: '', fechaFin: '' };\n    this.editingId = null;\n  }\n\n  editTorneo(t: any) {\n    this.newTorneo = { ...t };\n    this.editingId = t.id;\n    this.showForm = true;\n  }\n\n  deleteTorneo(id: number) {\n    if (confirm('¿Estás seguro de eliminar este torneo?')) {\n      this.api.delete(`admin/torneos/${id}`).subscribe(() => {\n        this.loadTorneos();\n      });\n    }\n  }\n\n  cancelEdit() {\n    this.showForm = false;\n    this.newTorneo = { nombre: '', categoria: '', fechaInicio: '', fechaFin: '' };\n    this.editingId = null;\n  }\n\n}\n"
        }
    ]
}