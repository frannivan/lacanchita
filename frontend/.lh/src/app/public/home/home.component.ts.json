{
    "sourceFile": "src/app/public/home/home.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1765251572165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1765251572165,
            "name": "Commit-0",
            "content": "import { Component, inject, ChangeDetectorRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ApiService } from '../../core/services/api.service';\n\n@Component({\n    selector: 'app-home',\n    standalone: true,\n    imports: [CommonModule],\n    template: `\n    <div class=\"min-h-screen bg-gray-900 font-sans relative\">\n      <!-- Hero Section with Background -->\n      <!-- Since image generation failed, using a modern gradient that implies a sports vibe -->\n      <div class=\"relative h-[500px] overflow-hidden\">\n        <div class=\"absolute inset-0 bg-gradient-to-r from-gray-900 to-emerald-900\"></div>\n        <div class=\"absolute inset-0 opacity-30 bg-[url('https://images.unsplash.com/photo-1517466787929-bc90951d0974?q=80&w=2546&auto=format&fit=crop')] bg-cover bg-center mix-blend-overlay\"></div>\n        \n        <div class=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent\"></div>\n\n        <div class=\"relative z-10 container mx-auto px-4 h-full flex flex-col justify-center items-start pt-20\">\n          <h1 class=\"text-6xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-xl\">\n            LA <span class=\"text-emerald-500\">CANCHITA</span>\n          </h1>\n          <p class=\"text-xl md:text-2xl text-gray-200 max-w-2xl font-light mb-8 drop-shadow-md\">\n            Tu complejo deportivo de primer nivel. Torneos, partidos y la mejor comunidad de f√∫tbol.\n          </p>\n          <button class=\"px-8 py-4 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-lg transition-all transform hover:scale-105 shadow-lg\">\n            Ver Torneos Activos\n          </button>\n        </div>\n      </div>\n\n      <!-- News Section -->\n      <div class=\"container mx-auto px-4 py-16 bg-gradient-to-b from-gray-900 to-gray-800\">\n        <div class=\"flex items-center mb-12\">\n            <h2 class=\"text-4xl font-extrabold text-white border-l-8 border-emerald-500 pl-6 tracking-wide drop-shadow-lg\">\n                Noticias y <span class=\"text-emerald-400\">Anuncios</span>\n            </h2>\n        </div>\n\n        <div *ngIf=\"loading\" class=\"text-center py-24\">\n            <div class=\"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-emerald-500 mb-4\"></div>\n            <p class=\"text-emerald-400 font-medium tracking-wide animate-pulse\">Cargando las √∫ltimas novedades...</p>\n        </div>\n\n        <div *ngIf=\"!loading\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\n            <div *ngFor=\"let n of noticias\" class=\"bg-gray-800 rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl hover:shadow-emerald-900/40 transition-all duration-300 hover:-translate-y-2 group border border-gray-700/50\">\n                <div class=\"h-56 bg-gray-700 relative overflow-hidden\">\n                    <img *ngIf=\"n.imagenUrl\" [src]=\"n.imagenUrl\" (error)=\"n.imagenUrl = null\" class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-90 group-hover:opacity-100\">\n                    <div *ngIf=\"!n.imagenUrl\" class=\"w-full h-full flex items-center justify-center bg-gray-700 text-gray-600 bg-[size:20px_20px] bg-[radial-gradient(#374151_1px,transparent_1px)]\">\n                        <span class=\"text-5xl opacity-40 grayscale group-hover:grayscale-0 transition-all\">üì¢</span>\n                    </div>\n                    \n                    <div class=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-80\"></div>\n                    \n                    <div class=\"absolute bottom-4 left-4 right-4 flex justify-between items-end\">\n                        <span class=\"bg-emerald-600/90 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-emerald-500/30\">\n                            {{ formatTime(n.fechaPublicacion) }}\n                        </span>\n                    </div>\n                </div>\n                \n                <div class=\"p-8 flex flex-col h-full\">\n                    <h3 class=\"text-2xl font-bold text-white mb-4 leading-tight group-hover:text-emerald-400 transition-colors\">{{ n.titulo }}</h3>\n                    <p class=\"text-gray-400 text-base leading-relaxed mb-6 line-clamp-3\">{{ n.contenido }}</p>\n                    <div class=\"mt-auto pt-6 border-t border-gray-700/50\">\n                        <button class=\"text-emerald-500 font-bold text-sm tracking-uppercase hover:text-emerald-300 transition-all flex items-center group/btn\">\n                            LEER M√ÅS \n                            <span class=\"ml-2 transform group-hover/btn:translate-x-1 transition-transform\">‚Üí</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"!loading && noticias.length === 0\" class=\"text-center py-20 text-gray-500 bg-gray-800/50 rounded-xl border border-gray-800\">\n            <p class=\"text-xl\">No hay noticias publicadas recientemente.</p>\n        </div>\n      </div>\n      \n      <!-- Footer Simple -->\n      <footer class=\"bg-gray-950 text-gray-500 py-8 border-t border-gray-900\">\n        <div class=\"container mx-auto px-4 text-center\">\n            <p>&copy; 2025 La Canchita. Todos los derechos reservados.</p>\n        </div>\n      </footer>\n    </div>\n  `\n})\nexport class HomeComponent {\n    api = inject(ApiService);\n    cdr = inject(ChangeDetectorRef);\n    noticias: any[] = [];\n    loading = true;\n\n    ngOnInit() {\n        this.api.get<any[]>('public/noticias').subscribe({\n            next: (data) => {\n                this.noticias = data;\n                this.loading = false;\n                this.cdr.detectChanges();\n            },\n            error: (e: any) => {\n                console.error(e);\n                this.loading = false;\n                this.cdr.detectChanges();\n            }\n        });\n    }\n\n    formatTime(dateStr: string): string {\n        if (!dateStr) return '';\n        const date = new Date(dateStr);\n        return date.toLocaleDateString();\n    }\n}\n"
        }
    ]
}